<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>House and Order Management</title>    <!-- Thêm các thư viện CSS và JavaScript cần thiết -->    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet"/>    <!-- Core theme CSS (includes Bootstrap)-->    <link href="/css/styles.css" rel="stylesheet"/>    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script></head><body><!-- Header --><nav class="navbar navbar-expand-lg navbar-light bg-light">    <div class="container px-4 px-lg-5">        <a class="navbar-brand" href="#!">House Listings</a>        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">            <span class="navbar-toggler-icon"></span>        </button>        <div class="collapse navbar-collapse" id="navbarSupportedContent">            <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">            </ul>            <ul class="navbar-nav ml-auto">                <li class="nav-item dropdown" th:if="${#httpServletRequest.remoteUser != null}">                    <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"                       data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">                        <i class="bi bi-person-circle"></i> <span                            th:text="${#httpServletRequest.remoteUser}">Username</span>                    </a>                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">                        <div class="dropdown-divider"></div>                        <a class="dropdown-item" href="/logout">Logout</a>                    </div>                </li>                <li class="nav-item" th:if="${#httpServletRequest.remoteUser == null}">                    <a class="nav-link" href="/login">Đăng nhập</a>                </li>                <li class="nav-item" th:if="${#httpServletRequest.remoteUser == null}">                    <a class="nav-link" href="/register">Đăng ký</a>                </li>            </ul>        </div>    </div></nav><br><div class="container mt-3">    <h2>Chào mừng bạn đến mới trang của ADMIN</h2>    <br>    <!-- Nav tabs -->    <ul class="nav nav-tabs">        <li class="nav-item">            <a class="nav-link" data-toggle="tab" href="#manageAccounts">Manage Accounts</a>        </li>        <li class="nav-item">            <a class="nav-link" data-toggle="tab" href="#manageOwners">Manage Owners</a>        </li>    </ul>    <!-- Tab panes -->    <div class="tab-content">        <div id="manageAccounts" class="container tab-pane fade active show"><br>            <section id="accounts">                <h2>Manage Accounts</h2>                <table class="table table-bordered">                    <thead>                    <tr>                        <th>ID</th>                        <th>Username</th>                        <th>Email</th>                        <th>Phone</th>                        <th>Avatar</th>                        <th>Status</th>                        <th>Role</th>                        <th>Actions</th>                    </tr>                    </thead>                    <tbody>                    <tr th:each="account : ${accounts}">                        <td th:text="${account.id}"></td>                        <td th:text="${account.username}"></td>                        <td th:text="${account.email}"></td>                        <td th:text="${account.phone}"></td>                        <td><img th:src="@{${account.avatar}}" alt="Avatar" style="width: 100px;"></td>                        <td th:if='${account.status.equals("Đang hoạt động")}' style="color: forestgreen"                            th:text="${account.status}"></td>                        <td th:if='${account.status.equals("Đã khóa")}' style="color: red" th:text="${account.status}"></td>                        <td th:text="${account.role.name}"></td>                        <td>                            <button th:if='${account.status.equals("Đang hoạt động")}' class="btn btn-sm btn-danger"                                    th:data-id="${account.id}"                                    data-toggle="modal" data-target="#blockAccountModal"                                    onclick="blockAccount(this)">Block                            </button>                            <button th:if='${account.status.equals("Đã khóa")}' class="btn btn-sm btn-success"                                    th:data-id="${account.id}"                                    data-toggle="modal" data-target="#unblockAccountModal"                                    onclick="unblockAccount(this)">Unblock                            </button>                        </td>                    </tr>                    </tbody>                </table>            </section>        </div>        <div id="manageOwners" class="container tab-pane fade"><br>            <section id="owners">                <h2>Manage Owners</h2>                <table class="table table-bordered">                    <thead>                    <tr>                        <th>ID</th>                        <th>username</th>                        <th>FullName</th>                        <th>Email</th>                        <th>Phone</th>                        <th>Address</th>                        <th>Province</th>                        <th>District</th>                        <th>Ward</th>                        <th>Status</th>                        <th>Actions</th>                    </tr>                    </thead>                    <tbody>                    <tr th:each="owner : ${owners}">                        <td th:text="${owner.account.username}"></td>                       <td>                            <a href="#" th:text="${owner.firstname + ' ' + owner.lastname}"                               th:attr="data-frontside=${owner.frontside},data-backside=${owner.backside}"                               data-toggle="modal" data-target="#ownerImagesModal"                               onclick="showOwnerImages(this)"></a>                        </td>                        <td th:text="${owner.lastname}"></td>                        <td th:text="${owner.email}"></td>                        <td th:text="${owner.phone}"></td>                        <td th:text="${owner.address}"></td>                        <td th:text="${owner.province}"></td>                        <td th:text="${owner.district}"></td>                        <td th:text="${owner.ward}"></td>                        <td th:if='${owner.status.equals("Đã xác nhận")}' style="color: forestgreen"                            th:text="${owner.status}"></td>                        <td th:if='${owner.status.equals("Chờ xác nhận")}' style="color: red" th:text="${owner.status}"></td>                        <td>                            <button th:if='${owner.status.equals("Đã xác nhận")}' class="btn btn-sm btn-danger"                                    th:data-id="${owner.id}"                                    data-toggle="modal" data-target="#deactivateOwnerModal"                                    onclick="deactivateOwner(this)">Deactivate                            </button>                            <button th:if='${owner.status.equals("Chờ xác nhận")}' class="btn btn-sm btn-success"                                    th:data-id="${owner.id}"                                    data-toggle="modal" data-target="#activateOwnerModal"                                    onclick="activateOwner(this)">Activate                            </button>                        </td>                    </tr>                    </tbody>                </table>            </section>        </div>    </div></div><!-- Block Account Modal --><div class="modal fade" id="blockAccountModal" tabindex="-1" role="dialog" aria-labelledby="blockAccountModalLabel"     aria-hidden="true">    <div class="modal-dialog" role="document">        <div class="modal-content">            <div class="modal-header">                <h5 class="modal-title" id="blockAccountModalLabel">Block Account</h5>                <button type="button" class="close" data-dismiss="modal" aria-label="Close">                    <span aria-hidden="true">&times;</span>                </button>            </div>            <div class="modal-body">                Are you sure you want to block this account?            </div>            <div class="modal-footer">                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>                <button type="button" class="btn btn-danger" onclick="confirmBlockAccount()">Block</button>            </div>        </div>    </div></div><!-- Unblock Account Modal --><div class="modal fade" id="unblockAccountModal" tabindex="-1" role="dialog" aria-labelledby="unblockAccountModalLabel"     aria-hidden="true">    <div class="modal-dialog" role="document">        <div class="modal-content">            <div class="modal-header">                <h5 class="modal-title" id="unblockAccountModalLabel">Unblock Account</h5>                <button type="button" class="close" data-dismiss="modal" aria-label="Close">                    <span aria-hidden="true">&times;</span>                </button>            </div>            <div class="modal-body">                Are you sure you want to unblock this account?            </div>            <div class="modal-footer">                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>                <button type="button" class="btn btn-success" onclick="confirmUnblockAccount()">Unblock</button>            </div>        </div>    </div></div><!-- Deactivate Owner Modal --><div class="modal fade" id="deactivateOwnerModal" tabindex="-1" role="dialog" aria-labelledby="deactivateOwnerModalLabel"     aria-hidden="true">    <div class="modal-dialog" role="document">        <div class="modal-content">            <div class="modal-header">                <h5 class="modal-title" id="deactivateOwnerModalLabel">Deactivate Owner</h5>                <button type="button" class="close" data-dismiss="modal" aria-label="Close">                    <span aria-hidden="true">&times;</span>                </button>            </div>            <div class="modal-body">                Are you sure you want to deactivate this owner?            </div>            <div class="modal-footer">                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>                <button type="button" class="btn btn-danger" onclick="confirmDeactivateOwner()">Deactivate</button>            </div>        </div>    </div></div><!-- Owner Images Modal --><div class="modal fade" id="ownerImagesModal" tabindex="-1" role="dialog" aria-labelledby="ownerImagesModalLabel"     aria-hidden="true">    <div class="modal-dialog modal-lg" role="document">        <div class="modal-content">            <div class="modal-header">                <h5 class="modal-title" id="ownerImagesModalLabel">Owner Images</h5>                <button type="button" class="close" data-dismiss="modal" aria-label="Close">                    <span aria-hidden="true">&times;</span>                </button>            </div>            <div class="modal-body text-center">                <img id="frontsideImage" src="" alt="Frontside Image" style="width: 45%; margin-right: 5%;">                <img id="backsideImage" src="" alt="Backside Image" style="width: 45%;">            </div>            <div class="modal-footer">                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>            </div>        </div>    </div></div><!-- Activate Owner Modal --><div class="modal fade" id="activateOwnerModal" tabindex="-1" role="dialog" aria-labelledby="activateOwnerModalLabel"     aria-hidden="true">    <div class="modal-dialog" role="document">        <div class="modal-content">            <div class="modal-header">                <h5 class="modal-title" id="activateOwnerModalLabel">Activate Owner</h5>                <button type="button" class="close" data-dismiss="modal" aria-label="Close">                    <span aria-hidden="true">&times;</span>                </button>            </div>            <div class="modal-body">                Are you sure you want to activate this owner?            </div>            <div class="modal-footer">                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>                <button type="button" class="btn btn-success" onclick="confirmActivateOwner()">Activate</button>            </div>        </div>    </div></div><script>    function showOwnerImages(link) {        var frontsideImage = $(link).attr('data-frontside');        var backsideImage = $(link).attr('data-backside');        $('#frontsideImage').attr('src', frontsideImage);        $('#backsideImage').attr('src', backsideImage);    }    function blockAccount(button) {        var accountId = $(button).data('id');        $('#blockAccountModal').data('id', accountId);    }    function confirmBlockAccount() {        var accountId = $('#blockAccountModal').data('id');        $.ajax({            url: '/admin/accounts/block/' + accountId,            type: 'POST',            success: function (response) {                location.reload();            },            error: function (error) {                alert('Error blocking account.');            }        });    }    function unblockAccount(button) {        var accountId = $(button).data('id');        $('#unblockAccountModal').data('id', accountId);    }    function confirmUnblockAccount() {        var accountId = $('#unblockAccountModal').data('id');        $.ajax({            url: '/admin/accounts/block/' + accountId,            type: 'POST',            success: function (response) {                location.reload();            },            error: function (error) {                alert('Error unblocking account.');            }        });    }    function deactivateOwner(button) {        var ownerId = $(button).data('id');        $('#deactivateOwnerModal').data('id', ownerId);    }    function confirmDeactivateOwner() {        var ownerId = $('#deactivateOwnerModal').data('id');        $.ajax({            url: '/admin/owners/active/' + ownerId,            type: 'POST',            success: function (response) {                location.reload();            },            error: function (error) {                alert('Error deactivating owner.');            }        });    }    function activateOwner(button) {        var ownerId = $(button).data('id');        $('#activateOwnerModal').data('id', ownerId);    }    function confirmActivateOwner() {        var ownerId = $('#activateOwnerModal').data('id');        $.ajax({            url: '/admin/owners/active/' + ownerId,            type: 'POST',            success: function (response) {                location.reload();            },            error: function (error) {                alert('Error activating owner.');            }        });    }</script></body></html><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>